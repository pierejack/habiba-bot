<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>Ø­Ø¨ÙŠØ¨Ø© ÙˆØªÙƒØ±ØªÙˆØ´ - Ø¨ÙˆØª Ø¬Ø²Ø§Ø¦Ø±ÙŠ</title>
  <style>
    body { font-family: 'Arial', sans-serif; background: #f0f0f0; text-align: center; padding: 2em; }
    button { padding: 1em; font-size: 1.2em; margin-top: 1em; }
    audio { margin-top: 1em; }
  </style>
</head>
<body>
  <h1>ğŸ‘µ Ø­Ø¨ÙŠØ¨Ø© ÙˆØªÙƒØ±ØªÙˆØ´</h1>
  <p>Ø¯Ø±Ø¯Ø´ Ù…Ø¹ Ù…ÙŠÙ…ØªÙƒ Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±ÙŠØ© Ø¨Ø§Ù„ØµÙˆØª ğŸ¤</p>
  <button onclick="startRecording()">ğŸ™ï¸ ØªÙƒÙ„Ù…</button>
  <audio id="responseAudio" controls></audio>

  <script>
    async function startRecording() {
      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
      const mediaRecorder = new MediaRecorder(stream);
      let audioChunks = [];

      mediaRecorder.ondataavailable = event => audioChunks.push(event.data);
      mediaRecorder.onstop = async () => {
        const audioBlob = new Blob(audioChunks);
        const formData = new FormData();
        formData.append("audio", audioBlob);

        const response = await fetch("https://your-render-service.onrender.com/process", {
          method: "POST",
          body: formData
        });

        const audioUrl = await response.text();
        const audioElement = document.getElementById("responseAudio");
        audioElement.src = audioUrl;
        audioElement.play();
      };

      mediaRecorder.start();
      setTimeout(() => mediaRecorder.stop(), 5000);
    }
  </script>
</body>
</html>
